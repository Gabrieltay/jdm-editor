import{r as n,R as Q}from"./index-Dl6G-zuu.js";import{_ as U,u as Y,a as Z,c as w,b as T,d as F,C as W,F as ee,D as te,e as q,o as ae,f as L}from"./index-C-UwI2HO.js";import{_ as ne}from"./assertThisInitialized-B7W8eO4F.js";import{T as le,W as se}from"./button-DoK4wRRk.js";import{u as z}from"./dt-CDnMCLk9.js";var re=["prefixCls","className","style","checked","disabled","defaultChecked","type","title","onChange"],ce=n.forwardRef(function(e,d){var o=e.prefixCls,t=o===void 0?"rc-checkbox":o,r=e.className,P=e.style,b=e.checked,p=e.disabled,k=e.defaultChecked,h=k===void 0?!1:k,u=e.type,x=u===void 0?"checkbox":u,S=e.title,s=e.onChange,O=U(e,re),C=n.useRef(null),f=Y(h,{value:b}),a=Z(f,2),_=a[0],V=a[1];n.useImperativeHandle(d,function(){return{focus:function(c){var m;(m=C.current)===null||m===void 0||m.focus(c)},blur:function(){var c;(c=C.current)===null||c===void 0||c.blur()},input:C.current}});var g=w(t,r,T(T({},"".concat(t,"-checked"),_),"".concat(t,"-disabled"),p)),v=function(c){p||("checked"in e||V(c.target.checked),s==null||s({target:F(F({},e),{},{type:x,checked:c.target.checked}),stopPropagation:function(){c.stopPropagation()},preventDefault:function(){c.preventDefault()},nativeEvent:c.nativeEvent}))};return n.createElement("span",{className:g,title:S,style:P},n.createElement("input",ne({},O,{className:"".concat(t,"-input"),ref:C,onChange:v,disabled:p,checked:!!_,type:x})),n.createElement("span",{className:"".concat(t,"-inner")}))});const oe=Q.createContext(null),B=oe;var ie=function(e,d){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&d.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(e);r<t.length;r++)d.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(e,t[r])&&(o[t[r]]=e[t[r]]);return o};const ue=(e,d)=>{var o;const{prefixCls:t,className:r,rootClassName:P,children:b,indeterminate:p=!1,style:k,onMouseEnter:h,onMouseLeave:u,skipGroup:x=!1,disabled:S}=e,s=ie(e,["prefixCls","className","rootClassName","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),{getPrefixCls:O,direction:C,checkbox:f}=n.useContext(W),a=n.useContext(B),{isFormItemInput:_}=n.useContext(ee),V=n.useContext(te),g=(o=(a==null?void 0:a.disabled)||S)!==null&&o!==void 0?o:V,v=n.useRef(s.value);n.useEffect(()=>{a==null||a.registerValue(s.value)},[]),n.useEffect(()=>{if(!x)return s.value!==v.current&&(a==null||a.cancelValue(v.current),a==null||a.registerValue(s.value),v.current=s.value),()=>a==null?void 0:a.cancelValue(s.value)},[s.value]);const i=O("checkbox",t),c=q(i),[m,$,j]=z(i,c),y=Object.assign({},s);a&&!x&&(y.onChange=function(){s.onChange&&s.onChange.apply(s,arguments),a.toggleOption&&a.toggleOption({label:b,value:s.value})},y.name=a.name,y.checked=a.value.includes(s.value));const I=w(`${i}-wrapper`,{[`${i}-rtl`]:C==="rtl",[`${i}-wrapper-checked`]:y.checked,[`${i}-wrapper-disabled`]:g,[`${i}-wrapper-in-form-item`]:_},f==null?void 0:f.className,r,P,j,c,$),R=w({[`${i}-indeterminate`]:p},le,$),G=p?"mixed":void 0;return m(n.createElement(se,{component:"Checkbox",disabled:g},n.createElement("label",{className:I,style:Object.assign(Object.assign({},f==null?void 0:f.style),k),onMouseEnter:h,onMouseLeave:u},n.createElement(ce,Object.assign({"aria-checked":G},y,{prefixCls:i,className:R,disabled:g,ref:d})),b!==void 0&&n.createElement("span",null,b))))},de=n.forwardRef(ue),H=de;var fe=function(e,d){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&d.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(e);r<t.length;r++)d.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(e,t[r])&&(o[t[r]]=e[t[r]]);return o};const ve=n.forwardRef((e,d)=>{const{defaultValue:o,children:t,options:r=[],prefixCls:P,className:b,rootClassName:p,style:k,onChange:h}=e,u=fe(e,["defaultValue","children","options","prefixCls","className","rootClassName","style","onChange"]),{getPrefixCls:x,direction:S}=n.useContext(W),[s,O]=n.useState(u.value||o||[]),[C,f]=n.useState([]);n.useEffect(()=>{"value"in u&&O(u.value||[])},[u.value]);const a=n.useMemo(()=>r.map(l=>typeof l=="string"||typeof l=="number"?{label:l,value:l}:l),[r]),_=l=>{f(E=>E.filter(N=>N!==l))},V=l=>{f(E=>[].concat(L(E),[l]))},g=l=>{const E=s.indexOf(l.value),N=L(s);E===-1?N.push(l.value):N.splice(E,1),"value"in u||O(N),h==null||h(N.filter(M=>C.includes(M)).sort((M,K)=>{const X=a.findIndex(D=>D.value===M),J=a.findIndex(D=>D.value===K);return X-J}))},v=x("checkbox",P),i=`${v}-group`,c=q(v),[m,$,j]=z(v,c),y=ae(u,["value","disabled"]),I=r.length?a.map(l=>n.createElement(H,{prefixCls:v,key:l.value.toString(),disabled:"disabled"in l?l.disabled:u.disabled,value:l.value,checked:s.includes(l.value),onChange:l.onChange,className:`${i}-item`,style:l.style,title:l.title,id:l.id,required:l.required},l.label)):t,R={toggleOption:g,value:s,disabled:u.disabled,name:u.name,registerValue:V,cancelValue:_},G=w(i,{[`${i}-rtl`]:S==="rtl"},b,p,j,c,$);return m(n.createElement("div",Object.assign({className:G,style:k},y,{ref:d}),n.createElement(B.Provider,{value:R},I)))}),me=ve,A=H;A.Group=me;A.__ANT_CHECKBOX=!0;const ge=A;export{ge as C};
